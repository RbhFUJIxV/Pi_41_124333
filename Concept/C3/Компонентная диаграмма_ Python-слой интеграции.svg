<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="1210px" preserveAspectRatio="none" style="width:6029px;height:1210px;background:#F8F9FA;" version="1.1" viewBox="0 0 6029 1210" width="6029px" zoomAndPan="magnify"><title>Компонентная диаграмма: Python-слой интеграции</title><defs/><g><rect fill="#F8F9FA" height="1210" style="stroke:none;stroke-width:1;" width="6029" x="0" y="0"/><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="420.0547" x="2797.8077" y="22.9951">Компонентная диаграмма: Python-слой интеграции</text></g><!--cluster Python-???? ??????????--><g class="cluster" data-entity="Python-.... .........." data-source-line="21" data-uid="ent0005" id="cluster_Python-.... .........."><path d="M186.17,191.9569 L385.337,191.9569 A3.75,3.75 0 0 1 387.837,194.4569 L394.837,214.2537 L4647.17,214.2537 A2.5,2.5 0 0 1 4649.67,216.7537 L4649.67,1094.8569 A2.5,2.5 0 0 1 4647.17,1097.3569 L186.17,1097.3569 A2.5,2.5 0 0 1 183.67,1094.8569 L183.67,194.4569 A2.5,2.5 0 0 1 186.17,191.9569" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="183.67" x2="394.837" y1="214.2537" y2="214.2537"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="198.167" x="187.67" y="206.952">Python-слой интеграции</text></g><!--cluster APIGateway--><g class="cluster" data-entity="APIGateway" data-source-line="23" data-uid="ent0006" id="cluster_APIGateway"><rect fill="#FFFFFF" height="413.81" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:1;" width="1776" x="2841.67" y="242.9569"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:1;" width="15" x="4597.67" y="247.9569"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:1;" width="4" x="4595.67" y="249.9569"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:1;" width="4" x="4595.67" y="253.9569"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="99.8115" x="3679.7642" y="268.952">API Gateway</text></g><!--cluster LLMDispatcher--><g class="cluster" data-entity="LLMDispatcher" data-source-line="27" data-uid="ent0009" id="cluster_LLMDispatcher"><rect fill="#FFFFFF" height="314.81" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:1;" width="577" x="2889.67" y="301.9569"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:1;" width="15" x="3446.67" y="306.9569"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:1;" width="4" x="3444.67" y="308.9569"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:1;" width="4" x="3444.67" y="312.9569"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="122.2266" x="3117.0567" y="327.952">LLM Dispatcher</text></g><!--cluster ImgDispatcher--><g class="cluster" data-entity="ImgDispatcher" data-source-line="33" data-uid="ent0013" id="cluster_ImgDispatcher"><rect fill="#FFFFFF" height="314.81" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:1;" width="468" x="3636.67" y="301.9569"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:1;" width="15" x="4084.67" y="306.9569"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:1;" width="4" x="4082.67" y="308.9569"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:1;" width="4" x="4082.67" y="312.9569"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="224.1025" x="3758.6187" y="327.952">Image Generator Dispatcher</text></g><!--cluster DataManager--><g class="cluster" data-entity="DataManager" data-source-line="43" data-uid="ent0018" id="cluster_DataManager"><rect fill="#FFFFFF" height="542.1" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:1;" width="1096" x="215.67" y="523.2569"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:1;" width="15" x="1291.67" y="528.2569"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:1;" width="4" x="1289.67" y="530.2569"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:1;" width="4" x="1289.67" y="534.2569"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="111.2959" x="708.0221" y="549.252">Data Manager</text></g><!--cluster ContextProcessor--><g class="cluster" data-entity="ContextProcessor" data-source-line="45" data-uid="ent0020" id="cluster_ContextProcessor"><rect fill="#FFFFFF" height="234.81" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:1;" width="475" x="423.67" y="790.5469"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:1;" width="15" x="878.67" y="795.5469"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:1;" width="4" x="876.67" y="797.5469"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:1;" width="4" x="876.67" y="801.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="144.4092" x="588.9654" y="816.542">Context Processor</text></g><!--cluster CacheManager--><g class="cluster" data-entity="CacheManager" data-source-line="49" data-uid="ent0023" id="cluster_CacheManager"><rect fill="#FFFFFF" height="234.81" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:1;" width="333" x="938.67" y="790.5469"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:1;" width="15" x="1251.67" y="795.5469"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:1;" width="4" x="1249.67" y="797.5469"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:1;" width="4" x="1249.67" y="801.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="121.5703" x="1044.3848" y="816.542">Cache Manager</text></g><!--cluster SQLiteDB--><g class="cluster" data-entity="SQLiteDB" data-source-line="56" data-uid="ent0026" id="cluster_SQLiteDB"><path d="M1851.67,731.7669 C1851.67,721.7669 2045.17,721.7669 2045.17,721.7669 C2045.17,721.7669 2238.67,721.7669 2238.67,731.7669 L2238.67,1015.3569 C2238.67,1025.3569 2045.17,1025.3569 2045.17,1025.3569 C2045.17,1025.3569 1851.67,1025.3569 1851.67,1015.3569 L1851.67,731.7669" fill="#E8F6F3" style="stroke:#27AE60;stroke-width:1;"/><path d="M1851.67,731.7669 C1851.67,741.7669 2045.17,741.7669 2045.17,741.7669 C2045.17,741.7669 2238.67,741.7669 2238.67,731.7669" fill="none" style="stroke:#27AE60;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="131.2705" x="1979.5347" y="756.762">SQLite Database</text></g><!--cluster TaskQueue--><g class="cluster" data-entity="TaskQueue" data-source-line="64" data-uid="ent0031" id="cluster_TaskQueue"><path d="M2283.67,484.4669 L2796.67,484.4669 C2801.67,484.4669 2801.67,684.2619 2801.67,684.2619 C2801.67,684.2619 2801.67,884.0569 2796.67,884.0569 L2283.67,884.0569 C2278.67,884.0569 2278.67,684.2619 2278.67,684.2619 C2278.67,684.2619 2278.67,484.4669 2283.67,484.4669" fill="#F4ECF7" style="stroke:#8E44AD;stroke-width:1;"/><path d="M2796.67,484.4669 C2791.67,484.4669 2791.67,684.2619 2791.67,684.2619 C2791.67,884.0569 2796.67,884.0569 2796.67,884.0569" fill="none" style="stroke:#8E44AD;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="92.3398" x="2494.0001" y="499.462">Task Queue</text></g><!--cluster SecurityModule--><g class="cluster" data-entity="SecurityModule" data-source-line="71" data-uid="ent0035" id="cluster_SecurityModule"><rect fill="#FFFFFF" height="399.59" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:1;" width="397" x="1351.67" y="484.4669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:1;" width="15" x="1728.67" y="489.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:1;" width="4" x="1726.67" y="491.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:1;" width="4" x="1726.67" y="495.4669"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="128.0713" x="1486.1344" y="510.462">Security Module</text></g><!--cluster ConfigManager--><g class="cluster" data-entity="ConfigManager" data-source-line="77" data-uid="ent0039" id="cluster_ConfigManager"><rect fill="#FFFFFF" height="132.3" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:1;" width="450" x="1788.67" y="484.4669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:1;" width="15" x="2218.67" y="489.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:1;" width="4" x="2216.67" y="491.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:1;" width="4" x="2216.67" y="495.4669"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="182.2529" x="1922.5435" y="510.462">Configuration Manager</text></g><!--cluster ??????? ????????--><g class="cluster" data-entity="....... ........" data-source-line="84" data-uid="ent0042" id="cluster_....... ........"><path d="M4811.17,212.1669 L4970.8936,212.1669 A3.75,3.75 0 0 1 4973.3936,214.6669 L4980.3936,234.4637 L6020.17,234.4637 A2.5,2.5 0 0 1 6022.67,236.9637 L6022.67,424.9669 A2.5,2.5 0 0 1 6020.17,427.4669 L4811.17,427.4669 A2.5,2.5 0 0 1 4808.67,424.9669 L4808.67,214.6669 A2.5,2.5 0 0 1 4811.17,212.1669" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="4808.67" x2="4980.3936" y1="234.4637" y2="234.4637"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="158.7236" x="4812.67" y="227.162">Внешние адаптеры</text></g><!--cluster LLMAdapters--><g class="cluster" data-entity="LLMAdapters" data-source-line="85" data-uid="ent0043" id="cluster_LLMAdapters"><rect fill="#FFFFFF" height="132.3" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:1;" width="637" x="5353.67" y="263.1669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:1;" width="15" x="5970.67" y="268.1669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:1;" width="4" x="5968.67" y="270.1669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:1;" width="4" x="5968.67" y="274.1669"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="108.3975" x="5617.9713" y="289.162">LLM Adapters</text></g><!--cluster ImgAdapters--><g class="cluster" data-entity="ImgAdapters" data-source-line="91" data-uid="ent0047" id="cluster_ImgAdapters"><rect fill="#FFFFFF" height="132.3" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:1;" width="473" x="4840.67" y="263.1669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:1;" width="15" x="5293.67" y="268.1669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:1;" width="4" x="5291.67" y="270.1669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:1;" width="4" x="5291.67" y="274.1669"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="161.2119" x="4996.564" y="289.162">Image Gen Adapters</text></g><!--entity ITextGen--><g class="entity" data-entity="ITextGen" data-source-line="24" data-uid="ent0007" id="entity_ITextGen"><ellipse cx="3551.67" cy="569.6169" fill="#F1F8E9" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.1621" x="3498.5889" y="599.612">ITextGenerator</text></g><!--entity IImageGen--><g class="entity" data-entity="IImageGen" data-source-line="25" data-uid="ent0008" id="entity_IImageGen"><ellipse cx="4195.67" cy="569.6169" fill="#F1F8E9" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.0684" x="4136.1358" y="599.612">IImageGenerator</text></g><!--entity APIConfigManager--><g class="entity" data-entity="APIConfigManager" data-source-line="38" data-uid="ent0016" id="entity_APIConfigManager"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="227.3594" x="4128.99" y="325.1669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="4336.3494" y="330.1669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="4334.3494" y="332.1669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="4334.3494" y="336.1669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187.3594" x="4143.99" y="358.162">API Configuration Manager</text></g><!--entity ErrorHandler--><g class="entity" data-entity="ErrorHandler" data-source-line="39" data-uid="ent0017" id="entity_ErrorHandler"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="202.5791" x="4391.38" y="325.1669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="4573.9591" y="330.1669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="4571.9591" y="332.1669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="4571.9591" y="336.1669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162.5791" x="4406.38" y="358.162">Error Handler &amp; Logger</text></g><!--entity PromptBuilder--><g class="entity" data-entity="PromptBuilder" data-source-line="28" data-uid="ent0010" id="entity_PromptBuilder"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="144.7402" x="2913.3" y="546.4669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="3038.0402" y="551.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="3036.0402" y="553.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="3036.0402" y="557.4669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.7402" x="2928.3" y="579.462">Prompt Builder</text></g><!--entity ResponseParser--><g class="entity" data-entity="ResponseParser" data-source-line="29" data-uid="ent0011" id="entity_ResponseParser"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="156.7578" x="3093.29" y="546.4669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="3230.0478" y="551.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="3228.0478" y="553.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="3228.0478" y="557.4669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.7578" x="3108.29" y="579.462">Response Parser</text></g><!--entity FallbackHandler--><g class="entity" data-entity="FallbackHandler" data-source-line="30" data-uid="ent0012" id="entity_FallbackHandler"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="157.2568" x="3285.05" y="546.4669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="3422.3068" y="551.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="3420.3068" y="553.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="3420.3068" y="557.4669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.2568" x="3300.05" y="579.462">Fallback Handler</text></g><!--entity ImgPromptBuilder--><g class="entity" data-entity="ImgPromptBuilder" data-source-line="34" data-uid="ent0014" id="entity_ImgPromptBuilder"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="193.0361" x="3887.16" y="546.4669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="4060.1961" y="551.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="4058.1961" y="553.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="4058.1961" y="557.4669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153.0361" x="3902.16" y="579.462">Image Prompt Builder</text></g><!--entity ImgCacheHandler--><g class="entity" data-entity="ImgCacheHandler" data-source-line="35" data-uid="ent0015" id="entity_ImgCacheHandler"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="191.4092" x="3660.97" y="546.4669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="3832.3792" y="551.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="3830.3792" y="553.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="3830.3792" y="557.4669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.4092" x="3675.97" y="579.462">Image Cache Handler</text></g><!--entity SessionManager--><g class="entity" data-entity="SessionManager" data-source-line="44" data-uid="ent0019" id="entity_SessionManager"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="159.2324" x="240.06" y="813.7669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="379.2924" y="818.7669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="377.2924" y="820.7669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="377.2924" y="824.7669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.2324" x="255.06" y="846.762">Session Manager</text></g><!--entity ContextFormatter--><g class="entity" data-entity="ContextFormatter" data-source-line="46" data-uid="ent0021" id="entity_ContextFormatter"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="169.4795" x="447.93" y="955.0569"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="597.4095" y="960.0569"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="595.4095" y="962.0569"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="595.4095" y="966.0569"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.4795" x="462.93" y="988.052">Context Formatter</text></g><!--entity MemoryWindow--><g class="entity" data-entity="MemoryWindow" data-source-line="47" data-uid="ent0022" id="entity_MemoryWindow"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="222.7109" x="652.32" y="955.0569"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="855.0309" y="960.0569"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="853.0309" y="962.0569"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="853.0309" y="966.0569"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182.7109" x="667.32" y="988.052">Memory Window Manager</text></g><!--entity TextCache--><g class="entity" data-entity="TextCache" data-source-line="50" data-uid="ent0024" id="entity_TextCache"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="118.9277" x="962.21" y="955.0569"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="1061.1377" y="960.0569"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="1059.1377" y="962.0569"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="1059.1377" y="966.0569"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.9277" x="977.21" y="988.052">Text Cache</text></g><!--entity ImageCache--><g class="entity" data-entity="ImageCache" data-source-line="51" data-uid="ent0025" id="entity_ImageCache"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="131.834" x="1115.76" y="955.0569"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="1227.594" y="960.0569"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="1225.594" y="962.0569"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="1225.594" y="966.0569"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.834" x="1130.76" y="988.052">Image Cache</text></g><!--entity SessionsTable--><g class="entity" data-entity="SessionsTable" data-source-line="57" data-uid="ent0027" id="entity_SessionsTable"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="143.6807" x="1897.83" y="813.7669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="2021.5107" y="818.7669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="2019.5107" y="820.7669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="2019.5107" y="824.7669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.6807" x="1912.83" y="846.762">Sessions Table</text></g><!--entity DialogsTable--><g class="entity" data-entity="DialogsTable" data-source-line="58" data-uid="ent0028" id="entity_DialogsTable"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="134.8555" x="2078.25" y="813.7669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="2193.1055" y="818.7669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="2191.1055" y="820.7669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="2191.1055" y="824.7669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.8555" x="2093.25" y="846.762">Dialogs Table</text></g><!--entity ResourcesTable--><g class="entity" data-entity="ResourcesTable" data-source-line="59" data-uid="ent0029" id="entity_ResourcesTable"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="155.4043" x="1883.97" y="955.0569"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="2019.3743" y="960.0569"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="2017.3743" y="962.0569"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="2017.3743" y="966.0569"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.4043" x="1898.97" y="988.052">Resources Table</text></g><!--entity SettingsTable--><g class="entity" data-entity="SettingsTable" data-source-line="60" data-uid="ent0030" id="entity_SettingsTable"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="140.3926" x="2074.48" y="955.0569"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="2194.8726" y="960.0569"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="2192.8726" y="962.0569"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="2192.8726" y="966.0569"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.3926" x="2089.48" y="988.052">Settings Table</text></g><!--entity TextQueue--><g class="entity" data-entity="TextQueue" data-source-line="65" data-uid="ent0032" id="entity_TextQueue"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="203.9326" x="2302.71" y="546.4669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="2486.6426" y="551.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="2484.6426" y="553.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="2484.6426" y="557.4669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163.9326" x="2317.71" y="579.462">Text Generation Queue</text></g><!--entity ImageQueue--><g class="entity" data-entity="ImageQueue" data-source-line="66" data-uid="ent0033" id="entity_ImageQueue"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="216.8389" x="2541.25" y="546.4669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="2738.0889" y="551.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="2736.0889" y="553.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="2736.0889" y="557.4669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.8389" x="2556.25" y="579.462">Image Generation Queue</text></g><!--entity ResultAggregator--><g class="entity" data-entity="ResultAggregator" data-source-line="67" data-uid="ent0034" id="entity_ResultAggregator"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="167.333" x="2321.01" y="813.7669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="2468.343" y="818.7669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="2466.343" y="820.7669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="2466.343" y="824.7669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.333" x="2336.01" y="846.762">Result Aggregator</text></g><!--entity ContentFilter--><g class="entity" data-entity="ContentFilter" data-source-line="72" data-uid="ent0036" id="entity_ContentFilter"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="135.8193" x="1375.76" y="546.4669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="1491.5793" y="551.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="1489.5793" y="553.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="1489.5793" y="557.4669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.8193" x="1390.76" y="579.462">Content Filter</text></g><!--entity APIKeyManager--><g class="entity" data-entity="APIKeyManager" data-source-line="73" data-uid="ent0037" id="entity_APIKeyManager"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="158.4941" x="1546.43" y="546.4669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="1684.9241" y="551.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="1682.9241" y="553.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="1682.9241" y="557.4669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.4941" x="1561.43" y="579.462">API Key Manager</text></g><!--entity DataEncryptor--><g class="entity" data-entity="DataEncryptor" data-source-line="74" data-uid="ent0038" id="entity_DataEncryptor"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="146.0322" x="1479.66" y="813.7669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="1605.6922" y="818.7669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="1603.6922" y="820.7669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="1603.6922" y="824.7669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.0322" x="1494.66" y="846.762">Data Encryptor</text></g><!--entity SettingsLoader--><g class="entity" data-entity="SettingsLoader" data-source-line="78" data-uid="ent0040" id="entity_SettingsLoader"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="150.0723" x="1812.64" y="546.4669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="1942.7123" y="551.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="1940.7123" y="553.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="1940.7123" y="557.4669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.0723" x="1827.64" y="579.462">Settings Loader</text></g><!--entity EnvValidator--><g class="entity" data-entity="EnvValidator" data-source-line="79" data-uid="ent0041" id="entity_EnvValidator"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="197.3633" x="1997.99" y="546.4669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="2175.3533" y="551.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="2173.3533" y="553.4669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="2173.3533" y="557.4669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.3633" x="2012.99" y="579.462">Environment Validator</text></g><!--entity OpenAIAdapter--><g class="entity" data-entity="OpenAIAdapter" data-source-line="86" data-uid="ent0044" id="entity_OpenAIAdapter"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="151.3369" x="5397.01" y="325.1669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="5528.3469" y="330.1669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="5526.3469" y="332.1669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="5526.3469" y="336.1669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.3369" x="5412.01" y="358.162">OpenAI Adapter</text></g><!--entity LocalLLMAdapter--><g class="entity" data-entity="LocalLLMAdapter" data-source-line="87" data-uid="ent0045" id="entity_LocalLLMAdapter"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="168.8984" x="5583.22" y="325.1669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="5732.1184" y="330.1669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="5730.1184" y="332.1669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="5730.1184" y="336.1669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128.8984" x="5598.22" y="358.162">Local LLM Adapter</text></g><!--entity YandexAdapter--><g class="entity" data-entity="YandexAdapter" data-source-line="88" data-uid="ent0046" id="entity_YandexAdapter"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="179.8701" x="5786.74" y="325.1669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="5946.6101" y="330.1669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="5944.6101" y="332.1669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="5944.6101" y="336.1669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.8701" x="5801.74" y="358.162">YandexGPT Adapter</text></g><!--entity ComfyUIAdapter--><g class="entity" data-entity="ComfyUIAdapter" data-source-line="92" data-uid="ent0048" id="entity_ComfyUIAdapter"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="159.8066" x="4883.77" y="325.1669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="5023.5766" y="330.1669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="5021.5766" y="332.1669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="5021.5766" y="336.1669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.8066" x="4898.77" y="358.162">ComfyUI Adapter</text></g><!--entity SDAdapter--><g class="entity" data-entity="SDAdapter" data-source-line="93" data-uid="ent0049" id="entity_SDAdapter"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="211.0557" x="5078.15" y="325.1669"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="5269.2057" y="330.1669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="5267.2057" y="332.1669"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="5267.2057" y="336.1669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171.0557" x="5093.15" y="358.162">Stable Diffusion Adapter</text></g><!--entity RenPy--><g class="entity" data-entity="RenPy" data-source-line="16" data-uid="ent0002" id="entity_RenPy"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#2C3E50;stroke-width:0.5;" width="210.7002" x="2744.32" y="62.9769"/><rect fill="#FFFFFF" height="10" style="stroke:#2C3E50;stroke-width:0.5;" width="15" x="2935.0202" y="67.9769"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="2933.0202" y="69.9769"/><rect fill="#FFFFFF" height="2" style="stroke:#2C3E50;stroke-width:0.5;" width="4" x="2933.0202" y="73.9769"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170.7002" x="2759.32" y="95.972">Игровой движок RenPy</text></g><!--entity ExternalAPI--><g class="entity" data-entity="ExternalAPI" data-source-line="17" data-uid="ent0003" id="entity_ExternalAPI"><path d="M5232.8877,555.243 C5235.6842,549.1833 5240.7594,548.0569 5244.9525,553.8175 C5248.9592,546.6338 5256.044,547.8027 5259.356,554.5364 C5262.8015,548.8293 5266.9107,547.8053 5271.6046,553.1532 C5274.8085,545.1592 5281.9671,545.4281 5286.5845,551.6654 C5291.6651,546.5698 5295.8379,547.3389 5299.1031,553.6567 C5303.8276,546.9932 5308.2747,548.0342 5312.6461,554.0344 C5316.7661,548.5734 5322.7382,550.0125 5325.2159,555.86 C5329.4203,548.5731 5334.3725,548.3199 5339.7522,554.6008 C5349.6732,555.5647 5352.3882,562.7696 5346.2386,570.3516 C5352.5945,578.3054 5348.5239,585.6923 5339.1518,586.9178 C5336.5429,594.5943 5330.5904,594.4526 5325.8367,589.1116 C5323.248,596.4957 5317.1966,596.8632 5312.9859,590.6437 C5310.2365,597.8028 5304.0065,598.7354 5299.2581,592.728 C5296.4673,599.9199 5290.2617,601.0006 5284.7245,596.0025 C5279.2764,599.9739 5274.7966,600.4676 5272.4291,592.7594 C5267.6053,600.0924 5260.925,597.9736 5257.912,590.9308 C5253.3094,595.5913 5248.8039,594.3001 5246.3894,588.5167 C5241.9972,594.3544 5235.4955,592.7383 5232.9939,586.4313 C5223.6841,585.5665 5219.951,579.5548 5223.9295,570.9231 C5220.2488,561.7 5223.227,556.844 5232.8877,555.243" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.6455" x="5237.85" y="574.462">Внешние API</text></g><!--entity FS--><g class="entity" data-entity="FS" data-source-line="18" data-uid="ent0004" id="entity_FS"><path d="M6,965.5569 C6,955.5569 84.6738,955.5569 84.6738,955.5569 C84.6738,955.5569 163.3477,955.5569 163.3477,965.5569 L163.3477,990.8538 C163.3477,1000.8538 84.6738,1000.8538 84.6738,1000.8538 C84.6738,1000.8538 6,1000.8538 6,990.8538 L6,965.5569" fill="#E8F6F3" style="stroke:#27AE60;stroke-width:0.5;"/><path d="M6,965.5569 C6,975.5569 84.6738,975.5569 84.6738,975.5569 C84.6738,975.5569 163.3477,975.5569 163.3477,965.5569" fill="none" style="stroke:#27AE60;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.3477" x="16" y="992.552">Файловая система</text></g><g class="entity" data-entity="GMN90" data-source-line="156" data-uid="ent0091" id="entity_GMN90"><path d="M4580.87,43.2969 L4580.87,128.9609 L4816.4843,128.9609 L4816.4843,53.2969 L4806.4843,43.2969 L4580.87,43.2969" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M4806.4843,43.2969 L4806.4843,53.2969 L4816.4843,53.2969 L4806.4843,43.2969" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="97.8809" x="4586.87" y="60.3638">API Gateway:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.1963" x="4586.87" y="75.4966">- Единая точка входа для всех</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.2319" x="4595.1346" y="90.6294">генеративных операций</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214.6143" x="4586.87" y="105.7622">- Управляет диспетчеризацией</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.8208" x="4595.1346" y="120.895">и обработкой ошибок</text></g><g class="entity" data-entity="GMN93" data-source-line="164" data-uid="ent0094" id="entity_GMN93"><path d="M4665.71,534.3469 L4665.71,604.8781 L4951.6421,604.8781 L4951.6421,544.3469 L4941.6421,534.3469 L4665.71,534.3469" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M4941.6421,534.3469 L4941.6421,544.3469 L4951.6421,544.3469 L4941.6421,534.3469" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="108.5449" x="4671.71" y="551.4138">Data Manager:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="264.9321" x="4671.71" y="566.5466">- Управление состоянием приложения</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244.8862" x="4671.71" y="581.6794">- Формирование контекста для LLM</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219.1909" x="4671.71" y="596.8122">- Многоуровневое кэширование</text></g><g class="entity" data-entity="GMN96" data-source-line="171" data-uid="ent0097" id="entity_GMN96"><path d="M4987.07,534.3469 L4987.07,604.8781 L5188.2863,604.8781 L5188.2863,544.3469 L5178.2863,534.3469 L4987.07,534.3469" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M5178.2863,534.3469 L5178.2863,544.3469 L5188.2863,544.3469 L5178.2863,534.3469" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="124.1221" x="4993.07" y="551.4138">Security Module:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.3892" x="4993.07" y="566.5466">- Фильтрация контента</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.1113" x="4993.07" y="581.6794">- Шифрование данных</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.2163" x="4993.07" y="596.8122">- Управление ключами API</text></g><g class="entity" data-entity="GMN99" data-source-line="178" data-uid="ent0100" id="entity_GMN99"><path d="M4665.26,801.6469 L4665.26,872.1781 L4904.0862,872.1781 L4904.0862,811.6469 L4894.0862,801.6469 L4665.26,801.6469" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M4894.0862,801.6469 L4894.0862,811.6469 L4904.0862,811.6469 L4894.0862,801.6469" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="90.9429" x="4671.26" y="818.7138">Task Queue:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.8262" x="4671.26" y="833.8466">- Асинхронная обработка задач</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182.2666" x="4671.26" y="848.9794">- Очередь с приоритетами</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.3965" x="4671.26" y="864.1122">- Агрегация результатов</text></g><!--link APIGateway to ITextGen--><g class="link" data-entity-1="APIGateway" data-entity-2="ITextGen" data-source-line="100" data-uid="lnk50" id="link_APIGateway_ITextGen"><path d="M2849.65,349.3769 C2848.84,351.7269 2823.03,427.1569 2858.67,460.4669 C2870.85,471.8469 3443.44,461.7069 3458.67,468.4669 C3503.13,488.2069 3533.0695,535.3224 3544.4095,555.4024" fill="none" id="APIGateway-to-ITextGen" style="stroke:#2C3E50;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#2C3E50" points="3547.36,560.6269,3546.4173,550.8232,3544.9013,556.2732,3539.4514,554.7572,3547.36,560.6269" style="stroke:#2C3E50;stroke-width:1;"/></g><!--link APIGateway to IImageGen--><g class="link" data-entity-1="APIGateway" data-entity-2="IImageGen" data-source-line="101" data-uid="lnk51" id="link_APIGateway_IImageGen"><path d="M2849.67,349.3769 C2849.41,351.8069 2841.34,429.8969 2881.67,460.4669 C2895.12,470.6569 4081.12,461.9169 4096.67,468.4669 C4143.08,488.0269 4175.7737,535.8418 4187.9937,555.7718" fill="none" id="APIGateway-to-IImageGen" style="stroke:#2C3E50;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#2C3E50" points="4191.13,560.8869,4189.8356,551.1234,4188.5164,556.6243,4183.0156,555.3051,4191.13,560.8869" style="stroke:#2C3E50;stroke-width:1;"/></g><!--link LLMDispatcher to ITextGen--><g class="link" data-entity-1="LLMDispatcher" data-entity-2="ITextGen" data-source-line="102" data-uid="lnk52" id="link_LLMDispatcher_ITextGen"><path d="M3467.1063,440.7195 C3467.5935,441.4563 3468.0814,442.1942 3468.57,442.9331 C3499.84,490.2244 3530.4905,536.5772 3543.1905,555.7822" fill="none" id="LLMDispatcher-to-ITextGen" style="stroke:#2C3E50;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#2C3E50" points="3546.5,560.7869,3544.8722,551.0735,3543.7421,556.6163,3538.1992,555.4862,3546.5,560.7869" style="stroke:#2C3E50;stroke-width:1;"/></g><!--link ImgDispatcher to IImageGen--><g class="link" data-entity-1="ImgDispatcher" data-entity-2="IImageGen" data-source-line="103" data-uid="lnk53" id="link_ImgDispatcher_IImageGen"><path d="M4104.67,443.4669 C4139.03,486.5069 4173.3319,535.915 4186.9819,555.865" fill="none" id="ImgDispatcher-to-IImageGen" style="stroke:#2C3E50;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#2C3E50" points="4190.37,560.8169,4188.5891,551.1304,4187.5466,556.6903,4181.9866,555.6478,4190.37,560.8169" style="stroke:#2C3E50;stroke-width:1;"/></g><!--link LLMDispatcher to PromptBuilder--><g class="link" data-entity-1="LLMDispatcher" data-entity-2="PromptBuilder" data-source-line="104" data-uid="lnk54" id="link_LLMDispatcher_PromptBuilder"><path d="M3406.69,349.3569 C3407.39,351.1669 3429.62,409.0569 3402.67,435.4669 C3390.69,447.2169 3116.09,436.8369 3100.67,443.4669 C3052.69,464.0869 3019.1627,510.8694 3001.1427,540.9594" fill="none" id="LLMDispatcher-to-PromptBuilder" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="2998.06,546.1069,3006.1157,540.4407,3000.6289,541.8173,2999.2524,536.3305,2998.06,546.1069" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.1733" x="3101.67" y="456.5338">build_prompt()</text></g><!--link LLMDispatcher to ResponseParser--><g class="link" data-entity-1="LLMDispatcher" data-entity-2="ResponseParser" data-source-line="105" data-uid="lnk55" id="link_LLMDispatcher_ResponseParser"><path d="M3406.74,349.4869 C3408.07,352.9769 3428.96,409.2369 3402.67,435.4669 C3388.5,449.6069 3239.04,431.9269 3222.67,443.4669 C3189.12,467.1269 3178.4117,510.9707 3174.4817,540.1207" fill="none" id="LLMDispatcher-to-ResponseParser" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="3173.68,546.0669,3178.8466,537.682,3174.3481,541.1117,3170.9184,536.6131,3173.68,546.0669" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.3091" x="3223.67" y="456.5338">parse_response()</text></g><!--link LLMDispatcher to FallbackHandler--><g class="link" data-entity-1="LLMDispatcher" data-entity-2="FallbackHandler" data-source-line="106" data-uid="lnk56" id="link_LLMDispatcher_FallbackHandler"><path d="M3406.73,349.4869 C3407.97,352.8869 3427.33,407.6969 3402.67,435.4669 C3388.32,451.6369 3368.65,426.9669 3354.67,443.4669 C3330.46,472.0569 3340.6607,513.1266 3351.4007,540.6766" fill="none" id="LLMDispatcher-to-FallbackHandler" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="3353.58,546.2669,3354.0379,536.4287,3351.7639,541.6083,3346.5843,539.3344,3353.58,546.2669" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.2988" x="3355.67" y="456.5338">handle_failure()</text></g><!--link ImgDispatcher to ImgPromptBuilder--><g class="link" data-entity-1="ImgDispatcher" data-entity-2="ImgPromptBuilder" data-source-line="107" data-uid="lnk57" id="link_ImgDispatcher_ImgPromptBuilder"><path d="M4093.61,349.3369 C4090.73,350.3169 3998.5,381.9469 3967.67,443.4669 C3951.19,476.3669 3961.0405,514.3907 3971.2705,540.4907" fill="none" id="ImgDispatcher-to-ImgPromptBuilder" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="3973.46,546.0769,3973.8998,536.2378,3971.6354,541.4217,3966.4515,539.1572,3973.46,546.0769" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.2007" x="3968.67" y="456.5338">build_img_prompt()</text></g><!--link ImgDispatcher to ImgCacheHandler--><g class="link" data-entity-1="ImgDispatcher" data-entity-2="ImgCacheHandler" data-source-line="108" data-uid="lnk58" id="link_ImgDispatcher_ImgCacheHandler"><path d="M4093.57,349.3369 C4089.18,350.1869 3947.91,377.8569 3858.67,443.4669 C3819.83,472.0269 3790.3268,513.6231 3773.0568,541.1731" fill="none" id="ImgDispatcher-to-ImgCacheHandler" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="3769.87,546.2569,3778.0393,540.7558,3772.5257,542.0204,3771.261,536.5067,3769.87,546.2569" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93.2026" x="3859.67" y="456.5338">check_cache()</text></g><!--link DataManager to SessionManager--><g class="link" data-entity-1="DataManager" data-entity-2="SessionManager" data-source-line="111" data-uid="lnk59" id="link_DataManager_SessionManager"><path d="M1303.54,570.6169 C1292.5,571.1169 585.22,603.4069 415.67,705.7669 C373.25,731.3769 346.2722,778.121 332.0022,808.051" fill="none" id="DataManager-to-SessionManager" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="329.42,813.4669,336.9039,807.0645,331.5718,808.9536,329.6827,803.6215,329.42,813.4669" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.1265" x="467.53" y="693.8338">get_active_session()</text></g><!--link DataManager to ContextProcessor--><g class="link" data-entity-1="DataManager" data-entity-2="ContextProcessor" data-source-line="112" data-uid="lnk60" id="link_DataManager_ContextProcessor"><path d="M1303.52,570.6569 C1296.95,572.3569 1085.48,627.2669 930.67,705.7669 C885.095,728.8769 837.3875,760.7644 800.6875,787.1906 C799.5406,788.0164 798.4045,788.8369 797.2795,789.6517 C796.9983,789.8553 801.5749,786.5361 801.295,786.7391" fill="none" id="DataManager-to-ContextProcessor" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="796.4379,790.2616,806.0719,788.2159,800.4855,787.3261,801.3752,781.7397,796.4379,790.2616" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.1113" x="980.33" y="693.8338">process_context()</text></g><!--link ContextProcessor to ContextFormatter--><g class="link" data-entity-1="ContextProcessor" data-entity-2="ContextFormatter" data-source-line="113" data-uid="lnk61" id="link_ContextProcessor_ContextFormatter"><path d="M736.72,838.0369 C737.6,840.5369 751.45,880.9169 732.67,900.0569 C717.68,915.3369 656.89,901.0269 636.67,908.0569 C607.39,918.2569 583.047,934.8784 563.137,950.8784" fill="none" id="ContextProcessor-to-ContextFormatter" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="558.46,954.6369,567.9811,952.1171,562.3575,951.5048,562.9698,945.8812,558.46,954.6369" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.5078" x="637.67" y="921.1238">format_for_llm()</text></g><!--link ContextProcessor to MemoryWindow--><g class="link" data-entity-1="ContextProcessor" data-entity-2="MemoryWindow" data-source-line="114" data-uid="lnk62" id="link_ContextProcessor_MemoryWindow"><path d="M736.69,838.0169 C737.3,841.1469 750.7286,910.4064 758.1986,948.9564" fill="none" id="ContextProcessor-to-MemoryWindow" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="759.34,954.8469,761.5548,945.2503,758.3888,949.9382,753.7009,946.7722,759.34,954.8469" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.7563" x="754.39" y="921.1238">get_relevant_memory()</text></g><!--link APIGateway to DataManager--><g class="link" data-entity-1="APIGateway" data-entity-2="DataManager" data-source-line="117" data-uid="lnk63" id="link_APIGateway_DataManager"><path d="M2840.4465,349.9381 C2839.942,349.9718 2839.4176,350.0068 2838.8733,350.0432 C2836.6961,350.1887 2834.2017,350.3556 2831.4009,350.5431 C2820.1978,351.2934 2804.0925,352.3746 2783.7787,353.7456 C2743.1512,356.4877 2685.6898,360.3887 2616.9447,365.1188 C2479.4544,374.5787 2296.8287,387.3544 2113.4675,400.8044 C1746.745,427.7044 1377.08,457.3019 1359.67,468.4669 C1338.545,482.0169 1324.65,506.4894 1315.985,527.8506 C1314.9019,530.5208 1313.9005,533.1423 1312.9769,535.6878 C1312.746,536.3242 1312.5199,536.9559 1312.2987,537.5823 C1312.1881,537.8955 1312.0787,538.2075 1311.9705,538.518 C1311.9163,538.6733 1313.8251,533.1583 1313.7716,533.3129" fill="none" id="APIGateway-to-DataManager" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="1311.809,538.9829,1318.5328,531.7864,1313.4445,534.2579,1310.9729,529.1696,1311.809,538.9829" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.9985" x="1559.32" y="456.5338">get_context_data()</text></g><!--link APIGateway to SecurityModule--><g class="link" data-entity-1="APIGateway" data-entity-2="SecurityModule" data-source-line="118" data-uid="lnk64" id="link_APIGateway_SecurityModule"><path d="M2841.269,349.234 C2840.9023,349.2309 2840.5242,349.2278 2840.1345,349.2247 C2839.3553,349.2184 2838.5302,349.212 2837.66,349.2056 C2830.6983,349.1541 2820.8489,349.1005 2808.4738,349.0812 C2783.7235,349.0425 2748.8702,349.141 2706.8091,349.6683 C2622.6869,350.7228 2509.7338,353.4925 2391.1125,360.3106 C2153.87,373.9469 1893.955,403.7769 1796.67,468.4669 C1775.77,482.3669 1761.8775,506.8444 1753.1575,528.1206 C1752.0675,530.7802 1751.0583,533.3897 1750.1264,535.9222 C1749.6604,537.1885 1751.1927,532.7714 1750.7649,533.9958" fill="none" id="APIGateway-to-SecurityModule" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="1748.7859,539.6601,1755.5306,532.483,1750.4351,534.9399,1747.9782,529.8444,1748.7859,539.6601" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.6123" x="1839.78" y="456.5338">validate_content()</text></g><!--link APIGateway to ConfigManager--><g class="link" data-entity-1="APIGateway" data-entity-2="ConfigManager" data-source-line="119" data-uid="lnk65" id="link_APIGateway_ConfigManager"><path d="M2840.9128,349.6681 C2840.6419,349.6797 2840.3651,349.6917 2840.0824,349.7039 C2838.9515,349.7528 2837.7264,349.8066 2836.4101,349.8655 C2833.7776,349.9833 2830.7802,350.1213 2827.4426,350.2809 C2814.0921,350.9193 2795.2984,351.9029 2772.6348,353.3164 C2727.3078,356.1434 2666.5019,360.69 2602.8062,367.6331 C2475.415,381.5194 2336.465,404.9919 2286.67,443.4669 C2262.94,461.8069 2249.005,492.4094 2240.9713,518.7606 C2240.4691,520.4076 2239.9901,522.0379 2239.5331,523.6476 C2239.3046,524.4525 2239.0817,525.2522 2238.8641,526.0462 C2238.8098,526.2447 2240.3281,520.6526 2240.2744,520.8504" fill="none" id="APIGateway-to-ConfigManager" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="2238.702,526.6407,2244.9208,519.0035,2240.0124,521.8154,2237.2004,516.9069,2238.702,526.6407" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.1016" x="2287.67" y="456.5338">get_api_config()</text></g><!--link APIGateway to TaskQueue--><g class="link" data-entity-1="APIGateway" data-entity-2="TaskQueue" data-source-line="120" data-uid="lnk66" id="link_APIGateway_TaskQueue"><path d="M2841.0622,349.7216 C2840.8201,349.7339 2840.5731,349.7465 2840.3215,349.7594 C2839.8181,349.7851 2839.2958,349.8121 2838.7548,349.8403 C2836.5907,349.953 2834.1277,350.0853 2831.3867,350.2386 C2820.4228,350.852 2805.0106,351.8014 2786.4838,353.1772 C2749.43,355.9288 2699.9175,360.3856 2648.615,367.2694 C2546.01,381.0369 2436.245,404.5119 2404.67,443.4669 C2399.92,449.3369 2399.39,455.0669 2404.67,460.4669 C2419.01,475.1169 2757.96,455.2969 2773.67,468.4669 C2777.95,472.0544 2781.4795,476.2753 2784.3785,480.9195 C2784.7408,481.5 2785.0934,482.0872 2785.4363,482.6805 C2785.6077,482.9772 2785.7767,483.2754 2785.9434,483.5751 C2786.0268,483.725 2783.2363,478.6079 2783.3184,478.7585" fill="none" id="APIGateway-to-TaskQueue" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="2786.1916,484.0258,2785.3934,474.2093,2783.7973,479.6364,2778.3703,478.0403,2786.1916,484.0258" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.645" x="2405.67" y="456.5338">submit_task()</text></g><!--link TaskQueue to APIGateway--><g class="link" data-entity-1="TaskQueue" data-entity-2="APIGateway" data-source-line="127" data-uid="lnk71" id="link_TaskQueue_APIGateway"><path d="M2786.1358,484.0953 C2786.054,483.9444 2785.9715,483.7937 2785.8885,483.6435 C2785.7225,483.343 2785.5541,483.0439 2785.3833,482.7464 C2785.0417,482.1514 2784.6906,481.5625 2784.3297,480.9802 C2781.4423,476.3214 2777.9288,472.0806 2773.67,468.4669 C2753.41,451.2769 2553.15,479.5669 2534.67,460.4669 C2529.42,455.0369 2530.16,449.5269 2534.67,443.4669 C2556.32,414.3969 2634.015,390.9994 2706.8188,374.8006 C2743.2206,366.7012 2778.3997,360.4016 2804.7389,356.0923 C2817.9085,353.9377 2828.8682,352.2807 2836.6657,351.1452 C2837.6404,351.0033 2838.5657,350.8695 2839.4397,350.7439 C2839.8767,350.6811 2840.3009,350.6203 2840.7121,350.5616 C2840.9176,350.5323 2835.1798,351.3487 2835.3788,351.3204" fill="none" id="TaskQueue-to-APIGateway" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="2841.319,350.4751,2831.8452,347.7829,2836.3688,351.1795,2832.9723,355.7032,2841.319,350.4751" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.3438" x="2535.67" y="456.5338">notify_completion()</text></g><!--link DataManager to SQLiteDB--><g class="link" data-entity-1="DataManager" data-entity-2="SQLiteDB" data-source-line="122" data-uid="lnk67" id="link_DataManager_SQLiteDB"><path d="M1311.6946,600.747 C1311.7477,600.9044 1311.801,601.062 1311.8547,601.2201 C1311.962,601.5362 1312.0705,601.8536 1312.1803,602.1724 C1312.3997,602.8099 1312.624,603.4528 1312.8532,604.1005 C1313.77,606.6914 1314.765,609.3603 1315.8425,612.0794 C1324.4625,633.8319 1338.36,658.7969 1359.67,672.7669 C1427.05,716.9269 1647.18,672.7769 1720.67,705.7669 C1758.675,722.8219 1792.9425,754.6169 1817.945,782.5106 C1830.4463,796.4575 1840.6313,809.4291 1847.8091,819.0952 C1848.7063,820.3034 1849.5565,821.46 1850.3584,822.5604 C1850.7594,823.1107 1847.6356,818.7825 1848.0122,819.304" fill="none" id="DataManager-to-SQLiteDB" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="1851.5249,824.1684,1849.4988,814.5301,1848.5977,820.1148,1843.0131,819.2136,1851.5249,824.1684" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.3423" x="1689.4" y="693.8338">execute_query()</text></g><!--link DataManager to CacheManager--><g class="link" data-entity-1="DataManager" data-entity-2="CacheManager" data-source-line="123" data-uid="lnk68" id="link_DataManager_CacheManager"><path d="M1303.64,570.6669 C1302.095,572.6919 1252.3775,637.9869 1202.6638,703.2781 C1190.2353,719.6009 1177.8071,735.9235 1166.1319,751.2572 C1160.2943,758.9241 1154.6449,766.3437 1149.2779,773.3925 C1146.5944,776.9169 1143.9815,780.3486 1141.4509,783.6722 C1140.1856,785.334 1138.9409,786.9687 1137.7183,788.5745 C1137.4126,788.9759 1140.7431,784.6018 1140.4402,784.9996" fill="none" id="DataManager-to-CacheManager" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="1136.8054,789.7733,1145.4401,785.0359,1139.8344,785.7952,1139.0751,780.1896,1136.8054,789.7733" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.5229" x="1215.77" y="693.8338">get_cached_data()</text></g><!--link CacheManager to TextCache--><g class="link" data-entity-1="CacheManager" data-entity-2="TextCache" data-source-line="124" data-uid="lnk69" id="link_CacheManager_TextCache"><path d="M1101.6,838.0269 C1100.18,840.3169 1077.2,877.5269 1059.67,908.0569 C1050.81,923.5069 1044.0106,935.8227 1036.6506,949.3927" fill="none" id="CacheManager-to-TextCache" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="1033.79,954.6669,1041.597,948.6626,1036.1738,950.2717,1034.5647,944.8485,1033.79,954.6669" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63.8765" x="1060.67" y="921.1238">get_text()</text></g><!--link CacheManager to ImageCache--><g class="link" data-entity-1="CacheManager" data-entity-2="ImageCache" data-source-line="125" data-uid="lnk70" id="link_CacheManager_ImageCache"><path d="M1101.73,838.0169 C1103.53,841.1469 1143.7018,911.0939 1165.8418,949.6439" fill="none" id="CacheManager-to-ImageCache" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="1168.83,954.8469,1167.8164,945.0503,1166.3399,950.5111,1160.8791,949.0345,1168.83,954.8469" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78.4824" x="1152.19" y="921.1238">get_image()</text></g><!--link TaskQueue to DataManager--><g class="link" data-entity-1="TaskQueue" data-entity-2="DataManager" data-source-line="128" data-uid="lnk72" id="link_TaskQueue_DataManager"><path d="M2783.6483,484.1764 C2783.5756,484.0238 2783.5025,483.8715 2783.4289,483.7193 C2783.1347,483.1109 2782.8335,482.5064 2782.5252,481.9061 C2780.0581,477.1038 2777.1325,472.5719 2773.67,468.4669 C2744.11,433.4169 2716.52,462.6369 2670.67,462.7369 C2597.84,462.8969 1422.34,431.3469 1359.67,468.4669 C1338.605,480.9469 1324.9,504.5044 1316.3238,525.7469 C1315.2517,528.4022 1314.2598,531.0213 1313.3437,533.5781 C1312.8857,534.8565 1312.4465,536.1194 1312.0258,537.3633 C1311.9206,537.6743 1313.7144,532.2922 1313.6115,532.6008" fill="none" id="TaskQueue-to-DataManager" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="1311.7137,538.2927,1318.355,531.02,1313.2952,533.5494,1310.7658,528.4896,1311.7137,538.2927" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.874" x="2671.67" y="456.5338">store_result()</text></g><!--link SecurityModule to SQLiteDB--><g class="link" data-entity-1="SecurityModule" data-entity-2="SQLiteDB" data-source-line="130" data-uid="lnk73" id="link_SecurityModule_SQLiteDB"><path d="M1748.7479,601.3853 C1748.8545,601.7026 1748.9622,602.0213 1749.0711,602.3414 C1749.2889,602.9814 1749.5116,603.6267 1749.7392,604.2768 C1750.6497,606.8773 1751.6389,609.555 1752.7112,612.2819 C1761.29,634.0969 1775.19,659.0569 1796.67,672.7669 C1819.2,687.1369 1898.42,661.2469 1916.67,680.7669 C1921.84,686.2769 1921.57,692.0069 1916.67,697.7669 C1902.38,714.5769 1882.47,689.3969 1867.67,705.7669 C1848.54,726.9219 1846.305,758.7794 1848.9675,785.6794 C1849.3003,789.0419 1849.7096,792.3269 1850.1721,795.5039 C1850.4033,797.0924 1850.6478,798.6539 1850.9026,800.1845 C1851.03,800.9499 1851.16,801.7075 1851.2922,802.4569 C1851.3584,802.8316 1851.425,803.2043 1851.4922,803.5749 C1851.5258,803.7601 1850.4756,798.0436 1850.5094,798.2278" fill="none" id="SecurityModule-to-SQLiteDB" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="1851.5933,804.1291,1853.9017,794.5546,1850.6901,799.2114,1846.0333,795.9998,1851.5933,804.1291" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.1836" x="1921.44" y="693.8338">secure_credentials()</text></g><!--link ConfigManager to SQLiteDB--><g class="link" data-entity-1="ConfigManager" data-entity-2="SQLiteDB" data-source-line="131" data-uid="lnk74" id="link_ConfigManager_SQLiteDB"><path d="M2233.1302,617.149 C2233.1172,617.3201 2233.104,617.4914 2233.0904,617.6627 C2233.0633,618.0055 2233.0349,618.3489 2233.0054,618.6927 C2232.769,621.4436 2232.4543,624.2276 2232.0471,627.0198 C2231.2327,632.6041 2230.0484,638.2211 2228.3808,643.6709 C2225.0456,654.5706 2219.7775,664.8019 2211.67,672.7669 C2208.68,675.7069 2066.85,697.3269 2062.67,697.7669 C2051.89,698.8869 1875.42,698.1769 1867.67,705.7669 C1847.3,725.7269 1845.045,757.5669 1848.0075,784.7569 C1848.7481,791.5544 1849.8148,798.0612 1851.0061,804.0192 C1851.155,804.764 1851.3059,805.5001 1851.4583,806.2272 C1851.4964,806.409 1850.2904,800.7206 1850.3286,800.9013" fill="none" id="ConfigManager-to-SQLiteDB" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="1851.5729,806.7708,1853.6196,797.137,1850.536,801.8795,1845.7935,798.796,1851.5729,806.7708" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.2686" x="2168.36" y="693.8338">load_settings()</text></g><!--link LLMDispatcher to LLMAdapters--><g class="link" data-entity-1="LLMDispatcher" data-entity-2="LLMAdapters" data-source-line="134" data-uid="lnk75" id="link_LLMDispatcher_LLMAdapters"><path d="M3458.4139,301.4054 C3458.6942,301.1735 3458.9755,300.9411 3459.2577,300.7084 C3459.8221,300.2428 3460.3901,299.7755 3460.9617,299.3066 C3462.1049,298.3687 3463.2625,297.4244 3464.4342,296.4742 C3469.1209,292.6734 3474.0322,288.7789 3479.145,284.8331 C3520.0475,253.2669 3573.845,218.4169 3628.67,201.9669 C3717.91,175.2069 5228.92,149.1569 5305.67,201.9669 C5319.3425,211.3744 5329.6787,224.6081 5337.4925,239.3105 C5341.3994,246.6616 5344.6756,254.38 5347.423,262.1707 C5348.7966,266.0661 5350.0381,269.9796 5351.16,273.8744 C5351.721,275.8217 5352.2521,277.7644 5352.7549,279.6979 C5353.0063,280.6646 5353.2506,281.6289 5353.4881,282.5904 C5353.5474,282.8308 5352.1853,277.2417 5352.2438,277.4817" fill="none" id="LLMDispatcher-to-LLMAdapters" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="5353.6649,283.311,5355.4195,273.6197,5352.4806,278.4533,5347.6471,275.5144,5353.6649,283.311" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.8574" x="5027.17" y="172.0238">call_adapter()</text></g><!--link LLMAdapters to ITextGen--><g class="link" data-entity-1="LLMAdapters" data-entity-2="ITextGen" data-source-line="135" data-uid="lnk76" id="link_LLMAdapters_ITextGen"><path d="M5353.5392,381.2014 C5353.4275,381.5442 5353.3145,381.8886 5353.2002,382.2346 C5352.7429,383.6184 5352.2643,385.0267 5351.7638,386.4556 C5350.7628,389.3132 5349.6741,392.253 5348.4925,395.2431 C5339.04,419.1644 5323.645,446.3119 5299.67,460.4669 C5279.88,472.1569 3665.72,459.2269 3644.67,468.4669 C3599.92,488.1069 3569.9037,535.753 3558.7437,555.663" fill="none" id="LLMAdapters-to-ITextGen" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="3555.81,560.8969,3563.6998,555.0019,3558.2548,556.5353,3556.7213,551.0903,3555.81,560.8969" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.9082" x="5319.11" y="456.5338">implements</text></g><!--link OpenAIAdapter to ExternalAPI--><g class="link" data-entity-1="OpenAIAdapter" data-entity-2="ExternalAPI" data-source-line="136" data-uid="lnk77" id="link_OpenAIAdapter_ExternalAPI"><path d="M5466.59,371.9569 C5459.4,395.7469 5445.69,433.4069 5424.67,460.4669 C5396.89,496.2469 5359.7181,523.501 5328.9081,542.891" fill="none" id="OpenAIAdapter-to-ExternalAPI" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="5323.83,546.0869,5333.5776,544.6785,5328.0617,543.4237,5329.3165,537.9078,5323.83,546.0869" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.3311" x="5436.78" y="456.5338">HTTP request</text></g><!--link LocalLLMAdapter to ExternalAPI--><g class="link" data-entity-1="LocalLLMAdapter" data-entity-2="ExternalAPI" data-source-line="137" data-uid="lnk78" id="link_LocalLLMAdapter_ExternalAPI"><path d="M5642,371.6569 C5621.56,389.2769 5592.1,414.3269 5565.67,435.4669 C5551.31,446.9669 5548.55,451.1669 5532.67,460.4669 C5472.28,495.8369 5403.7862,524.5291 5352.3862,544.1291" fill="none" id="LocalLLMAdapter-to-ExternalAPI" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="5346.78,546.2669,5356.6145,546.7977,5351.4519,544.4854,5353.7642,539.3227,5346.78,546.2669" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85.0903" x="5556.79" y="456.5338">Local API call</text></g><!--link ImgDispatcher to ImgAdapters--><g class="link" data-entity-1="ImgDispatcher" data-entity-2="ImgAdapters" data-source-line="139" data-uid="lnk79" id="link_ImgDispatcher_ImgAdapters"><path d="M4079.8296,301.4267 C4079.6554,300.5464 4079.4849,299.6593 4079.3186,298.766 C4078.6531,295.1925 4078.0534,291.5184 4077.5475,287.7769 C4073.5,257.8444 4075.45,223.5919 4097.67,201.9669 C4153.66,147.4969 4737.42,156.1469 4800.67,201.9669 C4813.88,211.5369 4823.52,224.8556 4830.5414,239.5933 C4834.0521,246.9621 4836.9082,254.6857 4839.2285,262.4727 C4839.5185,263.4461 4839.8002,264.4205 4840.0737,265.3953 C4840.2105,265.8827 4838.7692,260.5809 4838.9019,261.0684" fill="none" id="ImgDispatcher-to-ImgAdapters" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="4840.478,266.8577,4841.9734,257.123,4839.1646,262.0333,4834.2543,259.2245,4840.478,266.8577" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.8574" x="4723.17" y="172.0238">call_adapter()</text></g><!--link ImgAdapters to IImageGen--><g class="link" data-entity-1="ImgAdapters" data-entity-2="IImageGen" data-source-line="140" data-uid="lnk80" id="link_ImgAdapters_IImageGen"><path d="M4840.5818,370.8785 C4840.4817,371.1168 4840.3806,371.3565 4840.2787,371.5975 C4840.0748,372.0794 4839.8674,372.5665 4839.6563,373.0585 C4839.2341,374.0426 4838.7976,375.0464 4838.3468,376.0677 C4837.4452,378.1103 4836.4864,380.223 4835.4713,382.3881 C4827.35,399.7094 4815.62,420.3919 4800.67,435.4669 C4784.84,451.4369 4778.19,453.9169 4756.67,460.4669 C4710.63,474.4769 4696.29,461.4769 4648.67,468.4669 C4467.38,495.0769 4256.3449,551.8946 4210.3149,564.5646" fill="none" id="ImgAdapters-to-IImageGen" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="4204.53,566.1569,4214.2688,567.625,4209.3507,564.8299,4212.1457,559.9118,4204.53,566.1569" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.9082" x="4793.08" y="456.5338">implements</text></g><!--link ComfyUIAdapter to ExternalAPI--><g class="link" data-entity-1="ComfyUIAdapter" data-entity-2="ExternalAPI" data-source-line="141" data-uid="lnk81" id="link_ComfyUIAdapter_ExternalAPI"><path d="M4986.48,371.9469 C5005.47,390.1869 5033.67,415.9269 5060.67,435.4669 C5078.58,448.4269 5082.57,453.8769 5103.67,460.4669 C5125.38,467.2369 5185.62,457.7569 5205.67,468.4669 C5237.9,485.6769 5258.6039,517.0035 5271.2339,540.8735" fill="none" id="ComfyUIAdapter-to-ExternalAPI" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="5274.04,546.1769,5273.3664,536.3511,5271.7016,541.7574,5266.2953,540.0925,5274.04,546.1769" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.3311" x="5104.67" y="456.5338">HTTP request</text></g><!--link SDAdapter to ExternalAPI--><g class="link" data-entity-1="SDAdapter" data-entity-2="ExternalAPI" data-source-line="142" data-uid="lnk82" id="link_SDAdapter_ExternalAPI"><path d="M5185.55,371.8769 C5188.1,394.9469 5193.9,431.4269 5206.67,460.4669 C5221.03,493.0969 5242.4189,521.0654 5260.3089,541.7854" fill="none" id="SDAdapter-to-ExternalAPI" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="5264.23,546.3269,5261.3759,536.9006,5260.9624,542.5423,5255.3207,542.1288,5264.23,546.3269" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.3311" x="5207.67" y="456.5338">HTTP request</text></g><!--link RenPy to APIGateway--><g class="link" data-entity-1="RenPy" data-entity-2="APIGateway" data-source-line="145" data-uid="lnk83" id="link_RenPy_APIGateway"><path d="M2883.93,109.4669 C2899.82,121.9169 2917.05,138.9469 2925.67,158.9569 C2928.66,165.8969 2930.52,170.1569 2925.67,175.9569 C2912.94,191.2169 2895.82,169.9969 2881.67,183.9569 C2868.71,196.7444 2860.1913,213.1312 2854.7127,230.5716 C2854.0278,232.7516 2853.3905,234.9481 2852.798,237.1561 C2852.5017,238.2601 2852.2166,239.3669 2851.9424,240.4761 C2851.8052,241.0306 2853.0551,235.7476 2852.9233,236.3032" fill="none" id="RenPy-to-APIGateway" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="2851.5391,242.1413,2857.5076,234.307,2852.6926,237.2762,2849.7234,232.4613,2851.5391,242.1413" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227.208" x="2929.65" y="172.0238">generate_text(context, user_input)</text></g><!--link RenPy to APIGateway--><g class="link" data-entity-1="RenPy" data-entity-2="APIGateway" data-source-line="146" data-uid="lnk84" id="link_RenPy_APIGateway"><path d="M2776.39,109.6369 C2745.19,123.9069 2717.94,145.5069 2727.67,175.9569 C2741.68,219.7869 2771.455,261.9844 2798.0825,293.5381 C2811.3963,309.315 2823.9231,322.4309 2833.2991,331.7595 C2835.643,334.0917 2837.7901,336.1871 2839.7033,338.0282 C2840.1816,338.4885 2840.6452,338.9329 2841.0937,339.3611 C2841.2059,339.4682 2836.9735,335.435 2837.0837,335.54" fill="none" id="RenPy-to-APIGateway-1" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="2841.4272,339.6793,2837.6714,330.5747,2837.8076,336.2299,2832.1524,336.3661,2841.4272,339.6793" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188.3096" x="2728.67" y="172.0238">generate_image(description)</text></g><!--link RenPy to DataManager--><g class="link" data-entity-1="RenPy" data-entity-2="DataManager" data-source-line="147" data-uid="lnk85" id="link_RenPy_DataManager"><path d="M2744.1,102.1369 C2500.44,139.1069 1882.84,246.1869 1401.67,443.4669 C1381.57,451.7069 1374.83,452.8969 1359.67,468.4669 C1342.165,486.4519 1328.3275,510.9944 1318.7875,531.2819 C1316.4025,536.3538 1314.2861,541.1597 1312.4481,545.5307 C1312.2184,546.0771 1314.2933,541.0752 1314.0723,541.6076" fill="none" id="RenPy-to-DataManager" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="1311.772,547.1492,1318.9168,540.3704,1313.6889,542.5312,1311.5281,537.3033,1311.772,547.1492" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.3857" x="2278.81" y="352.8838">save_game_state()</text></g><!--link RenPy to ConfigManager--><g class="link" data-entity-1="RenPy" data-entity-2="ConfigManager" data-source-line="148" data-uid="lnk86" id="link_RenPy_ConfigManager"><path d="M2955.42,89.7869 C3325.35,99.4869 4542.65,135.0269 4609.67,183.9569 C4636.03,203.1969 4731.71,437.3569 4708.67,460.4669 C4696.8,472.3769 2301.17,459.9369 2286.67,468.4669 C2265.045,481.2019 2251.1425,505.6619 2242.5988,527.2194 C2241.5308,529.9141 2240.5465,532.5634 2239.6414,535.1388 C2239.4151,535.7827 2239.1938,536.4219 2238.9773,537.0561 C2238.9232,537.2146 2240.7951,531.6902 2240.7416,531.8481" fill="none" id="RenPy-to-ConfigManager" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="2238.8159,537.5307,2245.4928,530.2906,2240.4206,532.7952,2237.916,527.7231,2238.8159,537.5307" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.2896" x="4712.17" y="352.8838">update_settings()</text></g><!--link APIGateway to ExternalAPI--><g class="link" data-entity-1="APIGateway" data-entity-2="ExternalAPI" data-source-line="150" data-uid="lnk87" id="link_APIGateway_ExternalAPI"><path d="M4617.9681,458.6089 C4618.834,458.6321 4619.7023,458.6553 4620.573,458.6784 C4622.3143,458.7248 4624.0651,458.771 4625.8254,458.8173 C4632.8669,459.0024 4640.0621,459.1869 4647.4229,459.3709 C4662.1446,459.7388 4677.5287,460.1044 4693.67,460.4669 C4707.89,460.7869 5192.92,462.1569 5205.67,468.4669 C5238.63,484.7669 5259.3212,516.6984 5271.7312,540.8884" fill="none" id="APIGateway-to-ExternalAPI" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="5274.47,546.2269,5273.9209,536.3933,5272.1877,541.7782,5266.8029,540.045,5274.47,546.2269" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.8091" x="4694.67" y="456.5338">API calls</text></g><!--link SecurityModule to FS--><g class="link" data-entity-1="SecurityModule" data-entity-2="FS" data-source-line="151" data-uid="lnk88" id="link_SecurityModule_FS"><path d="M1351.592,680.0702 C1346.496,680.0931 1341.3679,680.1152 1336.209,680.1367 C1325.8913,680.1796 1315.4507,680.2199 1304.8983,680.2576 C1283.7936,680.3331 1262.2418,680.3985 1240.3319,680.4547 C1152.6923,680.6795 1059.3231,680.7578 965.9175,680.7531 C592.295,680.7344 218.09,679.3869 207.67,680.7669 C164.39,686.4769 141.07,672.5969 112.67,705.7669 C50.58,778.2769 67.6584,898.9346 78.2684,949.5246" fill="none" id="SecurityModule-to-FS" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="79.5,955.3969,81.5675,945.7675,78.4737,950.5033,73.7378,947.4095,79.5,955.3969" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.2178" x="113.67" y="841.4738">encrypt_db_file()</text></g><!--link CacheManager to FS--><g class="link" data-entity-1="CacheManager" data-entity-2="FS" data-source-line="152" data-uid="lnk89" id="link_CacheManager_FS"><path d="M938.1749,893.8267 C937.4694,893.989 936.7639,894.1499 936.0586,894.3093 C934.6479,894.6281 933.2379,894.9412 931.8288,895.2482 C929.0107,895.8623 926.1966,896.4521 923.3901,897.0153 C917.7771,898.1418 912.1944,899.1619 906.67,900.0569 C838.45,911.1169 352.76,896.1669 284.67,908.0569 C231.65,917.3169 179.3607,936.3245 139.5807,952.8545" fill="none" id="CacheManager-to-FS" style="stroke:#2C3E50;stroke-width:1;"/><polygon fill="#2C3E50" points="134.04,955.1569,143.8859,955.3971,138.6572,953.2382,140.8161,948.0096,134.04,955.1569" style="stroke:#2C3E50;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.6318" x="285.67" y="921.1238">store_cached_files()</text></g><!--link GMN90 to APIGateway--><g class="link" data-entity-1="GMN90" data-entity-2="APIGateway" data-source-line="156" data-uid="lnk92" id="link_GMN90_APIGateway"><path d="M4580.45,95.1769 C4323.27,112.4269 3693.7,153.2269 3165.67,175.9569 C3149.9,176.6369 2893.72,173.7569 2881.67,183.9569 C2867.7775,195.7244 2858.785,211.5937 2853.1222,228.8334 C2851.7065,233.1434 2850.4989,237.5389 2849.4749,241.9775 C2849.4109,242.2549 2849.3476,242.5324 2849.285,242.8102" fill="none" id="GMN90-APIGateway" style="stroke:#2C3E50;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link DataManager to GMN93--><g class="link" data-entity-1="DataManager" data-entity-2="GMN93" data-source-line="164" data-uid="lnk95" id="link_DataManager_GMN93"><path d="M1311.7961,538.4603 C1312.2616,537.0411 1312.7497,535.5932 1313.2611,534.121 C1315.3068,528.2322 1317.7253,521.955 1320.5588,515.5719 C1331.8925,490.0394 1349.865,462.8119 1377.17,451.9669 C1418.67,435.4869 4548.9,440.9669 4592.17,451.9669 C4654.36,467.7769 4718,505.4469 4760.04,533.9369" fill="none" id="DataManager-GMN93" style="stroke:#2C3E50;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link GMN96 to SecurityModule--><g class="link" data-entity-1="GMN96" data-entity-2="SecurityModule" data-source-line="171" data-uid="lnk98" id="link_GMN96_SecurityModule"><path d="M5059.22,533.9269 C5034.21,505.6369 4995.02,468.2569 4951.17,451.9669 C4910.33,436.7969 1854.67,435.8869 1814.17,451.9669 C1786.865,462.8119 1768.8925,490.0394 1757.5588,515.5719 C1754.7253,521.955 1752.3068,528.2322 1750.2611,534.121 C1749.7497,535.5932 1749.2616,537.0411 1748.7961,538.4603" fill="none" id="GMN96-SecurityModule" style="stroke:#2C3E50;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link TaskQueue to GMN99--><g class="link" data-entity-1="TaskQueue" data-entity-2="GMN99" data-source-line="178" data-uid="lnk101" id="link_TaskQueue_GMN99"><path d="M2801.9006,583.127 C2802.0614,583.3592 2802.2244,583.5941 2802.3895,583.8314 C2807.6747,591.4266 2815.1956,601.6175 2824.4838,612.5706 C2843.06,634.4769 2868.705,659.4319 2897.67,672.7669 C3214.4,818.5269 4301.24,834.7469 4664.99,836.0269" fill="none" id="TaskQueue-GMN99" style="stroke:#2C3E50;stroke-width:1;stroke-dasharray:7,7;"/></g><g class="legend" data-source-line="185"><rect fill="none" height="75.1875" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1;" width="373.918" x="5629.752" y="1115.3569"/><text fill="#3498DB" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.5781" x="5634.752" y="1133.352">Сплошная линия</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.4063" x="5763.7804" y="1133.352">: Синхронный вызов</text><text fill="#E74C3C" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.8877" x="5634.752" y="1149.6489">Пунктирная линия</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183.7432" x="5777.0899" y="1149.6489">: Интерфейс/реализация</text><text fill="#27AE60" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.0898" x="5634.752" y="1165.9457">Толстая линия</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.791" x="5747.2921" y="1165.9457">: Поток данных</text><text fill="#8E44AD" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.3945" x="5634.752" y="1182.2426">Волнистая линия</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232.0732" x="5766.5968" y="1182.2426">: Асинхронное взаимодействие</text></g><!--SRC=[ZLbjRnl74Vv-lsBX0AqDL74Qgx4i60GaYdI4ogWIkItwYJYHI_hWunrxTxHD50PiAMvSEAtR0WM2jaZGnX_waPPDYthrNxZxHtrcTk-uUqTAiG7fTdQUtNdRcTbLuYM-5Ea_q_FqDFs0dsVf93tBzl1xdBqIwRjqcexJjzbJ_3p5__6gs1ubzyDWANkMde3_I82301F5bVqHuwdZn0-yOE16Rb_ymH5YtMq_w4NXCEZKGp-Cn4VDbUQjvXfcrg8eVAI9dzPlD7xn2OZri3y80naaws7KaT7YwSgo_0yicq4YewxRbbMMdpTN6hV0ik4cxguRItkFcskDppunPylunahpi-ODS7mnb4CRlD9ONbxRAAOgEoytwisRpXF7-Qb8_qwMpbxWvpIT21XpcZrZAvvcByNLR3_z06kUPtyYTy2-BydG1-1zH_O-5FLFhpdjt0pYIlejM_ySBEoITypx7eDZyQKCjaTNX1khBwVjXyCE8BO4QzkRpDDu3CC5he-nqz4s0FDh-F-87Nx0WM4Ad8uPsTnXnRx3r1dpdIbPFW1wZ9tsxCZ9NZa3MCZjOVaV4r9NE92mmT-OwPWa5dVSH3voHvWmZ65Ci60Owo4l8OIN1uUuidbFFaxko416RX96p9wJAgoRVGXRuirfpCm_346sjkwA3IyUk4dxlbG0a6OKBOw5sOxmdOZreUTtD4QHDAMA-5B6-8INjjqerf2SfaXLJDFr_LrONtpk1XrVWtAYfZ7goLp5M6jHcAAiv6Q_Tx6I2Zz7LI0lqLP1wowMjeG7aecN2q_XKG-3hjSRGdel3CHTDy2YKHuiQb8Jo-W6ybMKxon-8hR2NWxbgTd-jBiTiVfKZt4sJlXSJrMA7UiZVeh4QMr6ISYIZWXwhErgSE_8E2whesaBb86c2OATFD46emvgJIs8ypoO8vjXr7UJH5h8WbZ5tPNzC1g9ttf19tnaIQfcr8JXFNDFThg9OOfj3mj19ranCJiDUNHXMEbmmdZ6-wJapt5wc8uDrsNFCJDBbpjVR7c9B6g8yWJJDjON-WtokRk-DDqMCwNCl-6vVjWpsJLbBZTIGJYCu4c3lw3DHUp89F62dYsF8kNyCrjybtsDtFuKuVmk-qQGMSWgsTUO_JrLGJZ1ZH-eYgYSW26FgePWT-ciGe5iW333emipaOtXgRaWg3_q4x7MwqMoL-HoHPqHBJN_mqeUKD7ZepeHg6cbdYbxwPJis1v6NZ8ITyFEi32aeYbIrGHyWl3Hz7phK0M9einBPh-Ket8A0sd1aUUKqWZQqMYGAqwaWZBJsfPgGRgqSkMyqDQXj1MwdI8bAPeYLV9hyD2Bmg1FWz-uljSf_8EPWi1IpckaLFWXpUwHm-2HeiUuX56r5wNYlTPn1p1wd9VkV5nLz5S36QnjvW3cLoHDgRG6OTlrXR67seAeittAeD-XjiZ7TxRlMI15dK6gxYiEYQqGIkPYXT1ZTqU_jZNIj0NIxIIK792BkjqXro4JkhDX2bXuBjl7iNcgUjoy4Jx8NY6DJD7kbguQ4q8PpHqrn1Uju1YDtySVrsQDNPbUD75sTsPXx9xc8jZIKirksSIgsAMlre2fLw_D0TWD6n03-cX5cZmNK-hN0BhFNwskw_d3Y42sr0GgTrY5S5w_DnDmBixihm33eFsWrIOY472DsQrSwXkpaw7rxKO5o_TaqdBRYVTGjc8rXrtAg4gh0iEfxrPRJG5KOJAGHQi2P9U_M_ZLylt-8g3PfsWn8-dBXswGjFeyfwo1yAPYE4MDE4UgcQH7V5ywKDdd58JtA9dx0ZUXuiAaUi0vfOLltrP0aoYcDPGaMkaMjI8GeyHVAZwhug7AfrBXWgGAiVExzih08m3eLVvPTLyLyN2txoMj12GoISNZUKEqAkHZI0Onq36m-IfkDliyhIcHEhcY5WFBaRTwcZqFXJBVhC_JZ1uHIDoP9iHdgBagWZ3nkgCMvJvV9YeoRNRRCp4g5fzbz1UqTCaF9MF4D0kNHB83bw2pYrKe6due8NnKKXmILLP_HFHbpqhbJuTNDSMODGyd7WcdvQgnoaZ59DjIvqfmUcGPgk6nOvL1vZEU6C3w-RrxsoAIS7sSEAK2E8TT5Kxw9ccS-PbgiSpc93FdITmMsgvqbqbT5BVB6EVqAmUB_9IzSlYzfXf-FTNjIXNK-iZ_J0nHE5fUC1Wcrov5gYZloBWTUGEAO1DI2buN6RZdzf664q2lcfpbx30SS3OnGx6K7spZv6wCvns9vWvb1jMNjZgxhQxdotb7cFdK4TD9WJZpS_0zefkiEy4zPQokt0xEhnH9E11Xrx2FStktPdGNgxUlxzQS9P7-Wnz1rNieN7EEXOxfydUGFMUVyJtmX6xo1yZa4xuAfc-vwl7H0cQgadls7DaUQNrIl6eTqGO_p5u5K1pfeOnsn5h4kQVlLrEA4yOWHcY7AQtrXe5l8DGU5uqZAYSlmFI67XmS6NGeMKb7gHnvlVi9AMrucBGs2tUXzW_bjmfLlyyvFiyXA9FIKy5yK-xGtkUl6hJ0Qt0zfRoY7oR7USYJeEfvxvWNAmo8Wq_0VtCvV0lulePI5QINJG9dVoO5xJNBYlgoothQKKMgbkvaXRQlIOFi6-vNsCpapvcWN8A9xt-O-QgiaFaCiC1oMEia-ml785LuUbqjoRmR9adO9wcBKa82psxFXQn_fSTNRFUSvJZBd-hBqJ0sR-DBvPiwrG3bEFBIbEj0tcRG7lpqEe4NSclmy33RLsRYi8OH32rmsFx52D8Pkpg-xD4iHvrpkqsFuAiVtLY-jRAnNiE5-WE_0h_8nJ_XGuQTRbzdrXfEDRWiHVKpE7uTykRveesRo_KRzHeE-pxOZkd40NBHmjygn-BczvLAkjTPlp5p7-PA5nkeFmlKqlzYsnCLj0kN_fxjJ-zzLc3aIwa_4jHG1x0KeozUhkhjymlhXZuDolZ_1m00]--></g></svg>